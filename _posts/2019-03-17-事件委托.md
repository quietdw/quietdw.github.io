---
title: 事件委托
tags:
  - 事件委托
---

现页面有`<li>`若干个，倘若需要监听每个`<li>`，传统的方法是遍历标签，并给它们添加同样多的点击事件，但如果页面中有多个标签，给每个标签都添加点击事件，会造成内存占用过多。今天利用事件捕获冒泡机制，写一个事件委托，解决这个问题。

<!-- more -->

```html
<ul>
  <li>01</li>
  <li>02</li>
  <li><span>03</span></li>
  <li>04</li>
  <li>05</li>
  <li>06</li>
</ul>
```

```javascript
let oUl = document.querySelector('ul')
oUl.onclick = function(e) {
    let ele =  e.target
    while (!ele.matches('li')){
        if(ele.matches('ul')){
            ele = null 
            break
        }
        ele = ele.parentNode  // 一直往上寻找父元素，直到ul退出循环、
    }
    
    ele && ele.style.color = 'red'
}
```
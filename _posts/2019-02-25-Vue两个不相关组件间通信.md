---
title: Vue两个不相关的组件间通信
tags:
  - Vue
  - 通信
---

两个不相关的组件可以通过eventBus实现组件间通信

举个例子：
<!-- more -->

```html
<div id=app>
    <component-a></component-a>
    <component-b></component-b>
</div>

<script>
let eventHub = new Vue()
Vue.prototype.$eventHub = eventHub
//compontent 是 Vue 的一个实例 this.__proto===Vue.prototype
Vue.component('component-a',{
    template:`
        <div>a<button @click=notify>点击</button></div>
    `,
    methods:{
        notify(){
			
            this.$eventHub.$emit('xxx','hi')
        }
    }
})

Vue.component('component-b',{
    template:`
        <div>b<div ref=output></div></div>
    `,
    created(){
        this.$eventHub.$on('xxx',(data)=>{
			
            this.$refs.output.textContent = data
        })
    }
})
let app = new Vue({
    el:'#app'
})
</script>
```